# å°è‚¡ä¸»åŠ›è³‡é‡‘é€²å…¥ç¯©é¸å™¨ - Pine Scripté‚è¼¯ä¿®æ­£ç‰ˆæœ¬

## ðŸŽ¯ ç³»çµ±æ¦‚è¿°

é€™æ˜¯ä¸€å€‹åŸºæ–¼çœŸå¯¦å°è‚¡è³‡æ–™çš„Pine Scriptä¸»åŠ›é€²å ´ç¯©é¸ç³»çµ±ï¼Œä½¿ç”¨å°ç£è­‰åˆ¸äº¤æ˜“æ‰€å®˜æ–¹APIæä¾›æº–ç¢ºçš„æŠ€è¡“åˆ†æžçµæžœã€‚

**æ­¤ç‰ˆæœ¬å°ˆé–€ä¿®æ­£Pine Scriptç¯©é¸é‚è¼¯ï¼Œç¢ºä¿åªæœ‰çœŸæ­£ç¬¦åˆä¸»åŠ›é€²å ´æ¢ä»¶çš„è‚¡ç¥¨æ‰æœƒè¢«ç¯©é¸å‡ºä¾†ã€‚**

## ðŸ”§ Pine Scripté‚è¼¯ä¿®æ­£

### å•é¡Œç™¼ç¾
åŽŸå§‹ç‰ˆæœ¬å­˜åœ¨ä»¥ä¸‹å•é¡Œï¼š
1. **æŠ€è¡“æŒ‡æ¨™è¨ˆç®—éŒ¯èª¤**: å¤šç©ºç·šæ•¸å€¼ç•°å¸¸é«˜ï¼ˆå¦‚å°ç©é›»1146.67ï¼‰
2. **ç¯©é¸æ¢ä»¶å¯¬é¬†**: åªæª¢æŸ¥signal_statusè€Œéžåš´æ ¼çš„Pine Scriptæ¢ä»¶
3. **crossoveré‚è¼¯ä¸æº–ç¢º**: æœªæ­£ç¢ºå¯¦æ–½çªç ´æª¢æŸ¥

### ä¿®æ­£æ–¹æ¡ˆ
1. **åš´æ ¼çš„Pine Scriptæ¢ä»¶æª¢æŸ¥**:
   ```python
   # ä¸»åŠ›é€²å ´æ¢ä»¶ï¼šåŒæ™‚æ»¿è¶³å…©å€‹æ¢ä»¶
   is_crossover = (current_fund > current_bull_bear) and (previous_fund <= previous_bull_bear)
   is_oversold = current_bull_bear < 25
   banker_entry_signal = is_crossover and is_oversold
   ```

2. **æŠ€è¡“æŒ‡æ¨™ç¯„åœä¿®æ­£**:
   - è³‡é‡‘æµå‘è¶¨å‹¢: 0-100ç¯„åœ
   - å¤šç©ºç·š: 0-100ç¯„åœ
   - æ­£ç¢ºçš„27æœŸå’Œ34æœŸè¨ˆç®—

3. **åš´æ ¼ç¯©é¸é‚è¼¯**:
   ```python
   # åªæœ‰banker_entry_signalç‚ºTrueæ‰ç¬¦åˆæ¢ä»¶
   if stock.get('banker_entry_signal', False):
       filtered_stocks.append(stock)
   ```

## âœ… ä¿®æ­£é©—è­‰çµæžœ

### æ¸¬è©¦çµæžœ
```
âœ… ç¬¦åˆPine Scriptä¸»åŠ›é€²å ´æ¢ä»¶: 0 æ”¯
âŒ ä¸ç¬¦åˆPine Scriptä¸»åŠ›é€²å ´æ¢ä»¶: 5 æ”¯
   2330 å°ç©é›» - è³‡é‡‘æµå‘: 90.92, å¤šç©ºç·š: 91.57 [crossover:âœ—, è¶…è³£:âœ—]
   2317 é´»æµ· - è³‡é‡‘æµå‘: 97.21, å¤šç©ºç·š: 84.50 [crossover:âœ—, è¶…è³£:âœ—]
   2454 è¯ç™¼ç§‘ - è³‡é‡‘æµå‘: 90.38, å¤šç©ºç·š: 84.36 [crossover:âœ—, è¶…è³£:âœ—]
   2882 åœ‹æ³°é‡‘ - è³‡é‡‘æµå‘: 24.56, å¤šç©ºç·š: 27.48 [crossover:âœ—, è¶…è³£:âœ—]
   2892 ç¬¬ä¸€é‡‘ - è³‡é‡‘æµå‘: 93.86, å¤šç©ºç·š: 91.77 [crossover:âœ—, è¶…è³£:âœ—]
```

### ä¿®æ­£æ•ˆæžœ
- âœ… **æŠ€è¡“æŒ‡æ¨™æ­£å¸¸**: æ‰€æœ‰æŒ‡æ¨™éƒ½åœ¨0-100ç¯„åœå…§
- âœ… **é‚è¼¯åš´æ ¼**: æ²’æœ‰è‚¡ç¥¨è¢«éŒ¯èª¤æ¨™è¨˜ç‚ºç¬¦åˆæ¢ä»¶
- âœ… **æ¢ä»¶æ˜Žç¢º**: æ¸…æ¥šé¡¯ç¤ºæ¯æ”¯è‚¡ç¥¨ä¸ç¬¦åˆçš„å…·é«”åŽŸå› 
- âœ… **è¨ˆç®—æº–ç¢º**: åŸºæ–¼çœŸå¯¦æ­·å²è³‡æ–™çš„ç²¾ç¢ºè¨ˆç®—

## ðŸš€ Renderéƒ¨ç½²æŒ‡å—

### éƒ¨ç½²è¨­å®š (é‚è¼¯ä¿®æ­£ç‰ˆ)
```
Name: taiwan-stock-screener
Environment: Python (ä½¿ç”¨é è¨­ç‰ˆæœ¬)
Build Command: pip install --no-cache-dir -r requirements.txt
Start Command: gunicorn app:app
Health Check: /api/health
```

### é—œéµç‰¹è‰²
1. **SSLå•é¡Œè§£æ±º**: ç¹žéŽè­‰æ›¸é©—è­‰å•é¡Œ
2. **é‚è¼¯ä¿®æ­£**: åš´æ ¼çš„Pine Scriptæ¢ä»¶æª¢æŸ¥
3. **ç©©å®šä¾è³´**: é¿å…timeoutå•é¡Œ
4. **è©³ç´°æ—¥èªŒ**: å®Œæ•´çš„è¨ˆç®—éŽç¨‹è¨˜éŒ„

## ðŸ“Š Pine ScriptæŠ€è¡“åˆ†æž

### æ ¸å¿ƒæŒ‡æ¨™
1. **è³‡é‡‘æµå‘è¶¨å‹¢** (27æœŸ):
   ```
   æ¨™æº–åŒ–åƒ¹æ ¼ä½ç½® = (æ”¶ç›¤åƒ¹ - 27æœŸæœ€ä½Žåƒ¹) / (27æœŸæœ€é«˜åƒ¹ - 27æœŸæœ€ä½Žåƒ¹) * 100
   è³‡é‡‘æµå‘è¶¨å‹¢ = WMA(WMA(æ¨™æº–åŒ–åƒ¹æ ¼ä½ç½®, 5), 3)
   ```

2. **å¤šç©ºç·š** (34æœŸ + 13æœŸEMA):
   ```
   æ¨™æº–åŒ–åƒ¹æ ¼ä½ç½® = (æ”¶ç›¤åƒ¹ - 34æœŸæœ€ä½Žåƒ¹) / (34æœŸæœ€é«˜åƒ¹ - 34æœŸæœ€ä½Žåƒ¹) * 100
   å¤šç©ºç·š = EMA(æ¨™æº–åŒ–åƒ¹æ ¼ä½ç½®, 13)
   ```

### ä¸»åŠ›é€²å ´æ¢ä»¶
```
æ¢ä»¶1: crossover(è³‡é‡‘æµå‘è¶¨å‹¢, å¤šç©ºç·š)
æ¢ä»¶2: å¤šç©ºç·š < 25 (è¶…è³£å€)
ä¸»åŠ›é€²å ´ä¿¡è™Ÿ = æ¢ä»¶1 AND æ¢ä»¶2
```

## ðŸ” ä½¿ç”¨æ–¹å¼

1. **è¨ªå•æ‡‰ç”¨**: é–‹å•Ÿéƒ¨ç½²å¾Œçš„URL
2. **æ›´æ–°è³‡æ–™**: é»žæ“Šã€Œæ›´æ–°è‚¡ç¥¨è³‡æ–™ã€æŒ‰éˆ•
3. **é–‹å§‹ç¯©é¸**: é»žæ“Šã€Œé–‹å§‹ç¯©é¸ã€æŒ‰éˆ•
4. **æŸ¥çœ‹çµæžœ**: æª¢è¦–ç¬¦åˆåš´æ ¼Pine Scriptæ¢ä»¶çš„è‚¡ç¥¨

### é æœŸçµæžœ
- **å¤§å¤šæ•¸æƒ…æ³ä¸‹**: ç¯©é¸çµæžœç‚º0æ”¯è‚¡ç¥¨ï¼ˆé€™æ˜¯æ­£å¸¸çš„ï¼‰
- **ç‰¹æ®Šå¸‚æ³ä¸‹**: å¯èƒ½æœ‰1-2æ”¯è‚¡ç¥¨ç¬¦åˆåš´æ ¼æ¢ä»¶
- **è©³ç´°åˆ†æž**: æ¯æ”¯è‚¡ç¥¨éƒ½æœƒé¡¯ç¤ºå…·é«”çš„æŠ€è¡“æŒ‡æ¨™æ•¸å€¼

## ðŸ“‹ åŠŸèƒ½ç‰¹è‰²

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **çœŸå¯¦è³‡æ–™**: å°ç£è­‰åˆ¸äº¤æ˜“æ‰€å®˜æ–¹API
- âœ… **åš´æ ¼é‚è¼¯**: å®Œå…¨æŒ‰ç…§Pine Scriptæ¨™æº–å¯¦æ–½
- âœ… **è©³ç´°åˆ†æž**: é¡¯ç¤ºæ¯æ”¯è‚¡ç¥¨çš„æŠ€è¡“æŒ‡æ¨™
- âœ… **æº–ç¢ºç¯©é¸**: åªé¡¯ç¤ºçœŸæ­£ç¬¦åˆæ¢ä»¶çš„è‚¡ç¥¨

### æŠ€è¡“ç‰¹è‰²
- âœ… **SSLä¿®å¾©**: è§£æ±ºè­‰æ›¸é©—è­‰å•é¡Œ
- âœ… **é‚è¼¯ä¿®æ­£**: åš´æ ¼çš„Pine Scriptæ¢ä»¶
- âœ… **ç¯„åœæª¢æŸ¥**: æŠ€è¡“æŒ‡æ¨™åœ¨æ­£ç¢ºç¯„åœå…§
- âœ… **è©³ç´°æ—¥èªŒ**: å®Œæ•´çš„è¨ˆç®—éŽç¨‹è¨˜éŒ„

## âš ï¸ é‡è¦èªªæ˜Ž

### Pine Scriptçš„åš´æ ¼æ€§
Pine Scriptä¸»åŠ›é€²å ´æ¢ä»¶éžå¸¸åš´æ ¼ï¼š
1. **crossoveræ¢ä»¶**: è³‡é‡‘æµå‘å¿…é ˆå¾žä¸‹æ–¹çªç ´å¤šç©ºç·š
2. **è¶…è³£å€æ¢ä»¶**: å¤šç©ºç·šå¿…é ˆå°æ–¼25
3. **åŒæ™‚æ»¿è¶³**: å…©å€‹æ¢ä»¶å¿…é ˆåŒæ™‚æˆç«‹

### æ­£å¸¸ç¾è±¡
- **å¤§å¤šæ•¸æ™‚å€™æ²’æœ‰ç¬¦åˆæ¢ä»¶çš„è‚¡ç¥¨**: é€™æ˜¯æ­£å¸¸çš„
- **å¸‚å ´è™•æ–¼é«˜ä½æ™‚**: å¾ˆå°‘æœ‰è‚¡ç¥¨åœ¨è¶…è³£å€
- **æŠ€è¡“åˆ†æžçš„æœ¬è³ª**: çœŸæ­£çš„æ©Ÿæœƒä¸¦ä¸å¸¸è¦‹

### æŠ•è³‡å»ºè­°
- æ­¤ç³»çµ±åƒ…ä¾›æŠ€è¡“åˆ†æžåƒè€ƒ
- æŠ•è³‡æ±ºç­–æ‡‰çµåˆå¤šç¨®å› ç´ 
- è«‹æ³¨æ„é¢¨éšªç®¡ç†

## ðŸŽ‰ ç‰ˆæœ¬ç‰¹è‰²

### å•é¡Œè§£æ±º
- âœ… **SSLè­‰æ›¸å•é¡Œ**: å®Œå…¨è§£æ±ºè­‰æ›¸é©—è­‰å¤±æ•—
- âœ… **Timeoutå•é¡Œ**: ä½¿ç”¨ç©©å®šä¾è³´é¿å…å®‰è£timeout
- âœ… **é‚è¼¯éŒ¯èª¤**: ä¿®æ­£Pine Scriptç¯©é¸é‚è¼¯
- âœ… **æŒ‡æ¨™ç•°å¸¸**: æŠ€è¡“æŒ‡æ¨™åœ¨æ­£ç¢ºç¯„åœå…§

### æº–ç¢ºæ€§æå‡
- âœ… **åš´æ ¼æ¢ä»¶**: åªé¡¯ç¤ºçœŸæ­£ç¬¦åˆæ¢ä»¶çš„è‚¡ç¥¨
- âœ… **è©³ç´°åˆ†æž**: æ¸…æ¥šé¡¯ç¤ºæ¯æ”¯è‚¡ç¥¨çš„ç‹€æ…‹
- âœ… **é€æ˜Žè¨ˆç®—**: å®Œæ•´çš„æŠ€è¡“æŒ‡æ¨™è¨ˆç®—éŽç¨‹
- âœ… **å¯é çµæžœ**: åŸºæ–¼çœŸå¯¦å¸‚å ´è³‡æ–™çš„æº–ç¢ºåˆ†æž

---

**ç‰ˆæœ¬**: Pine Scripté‚è¼¯ä¿®æ­£ç‰ˆæœ¬  
**æ›´æ–°æ—¥æœŸ**: 2025-07-27  
**é©ç”¨å¹³å°**: Render.com  
**ç‹€æ…‹**: âœ… å·²ä¿®æ­£æ‰€æœ‰é‚è¼¯å•é¡Œ

